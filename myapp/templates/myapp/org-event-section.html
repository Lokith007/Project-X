{% load static %}

<!-- posts -->
{% if section == 'events' %}
<div class="mx-auto">
    <div class="flex flex-col justify-center items-center  w-full gap-y-5">

        <!-- start of 1st event -->
        {% if org_events %}
        {% if organization.user == request.user %}
        <a href='{% url "org_event_form" organization.id %}' class="self-end border border-[#2d323b] px-3 py-1 mt-2 flex gap-x-2 items-center cursor-pointer bg-[#1a1f2b] text-white hover:bg-gradient-to-r hover:from-green-600 hover:to-green-900 transition-all duration-300">
            <img src="{% static 'assets/plus-edit.svg' %}" alt="" class="w-4 h-4">
            <p>New Event</p>
        </a >
        {% endif %}
        {% for event in org_events %}                        
        <div class="flex flex-col w-full max-w-[40rem] bg-[#1a1f2b] border border-[#2d323b] p-4 pb-5 shadow-lg rounded-xl hover:shadow-xl hover:border-green-600/30 transition-all duration-300">
            <div class="w-full aspect-video overflow-hidden bg-[#262b34] relative rounded-lg">
                <img src="{{event.banner.url}}" alt="Event Banner" class="w-full h-full object-cover">
            </div>
            <div class=" flex justify-between pt-3 items-end">
                <div class="flex flex-col gap-y-3 mt-2">
                    <div class="flex gap-x-3 items-start">
                        <div class="p-1.5 bg-gradient-to-br from-green-600/20 to-green-800/20 rounded-lg">
                            <img src="{% static 'assets/org_event.svg' %}" alt="" class="w-5 h-5 filter brightness-0 invert">
                        </div>
                        <div class="font-bold text-white text-lg">{{event.title}}</div>
                    </div>
                    <!-- <div>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aut quo eum suscipit aliquid enim porro quos, iste quaerat cumque, omnis delectus aperiam, dolores earum tempora cum! Quas veritatis inventore consectetur!</div> -->
                    <div class="flex gap-x-3 items-start">
                        <div class="p-1.5 bg-gradient-to-br from-blue-600/20 to-blue-800/20 rounded-lg">
                            <img src="{% static 'assets/category.svg' %}" alt="" class="w-5 h-5 filter brightness-0 invert">
                        </div>
                        <div class="text-gray-300">{{event.event_type}}</div>
                    </div>
                    
                    <div class="flex gap-x-3 items-start">
                        <div class="p-1.5 bg-gradient-to-br from-purple-600/20 to-purple-800/20 rounded-lg">
                            <img src="{% static 'assets/organization.svg' %}" alt="" class="w-5 h-5 filter brightness-0 invert">
                        </div>
                        <div class="text-gray-300">{{event.organization.name}}</div>
                    </div>
    
                    <div class="flex gap-x-3 items-center">
                        <div class="p-1.5 bg-gradient-to-br from-orange-600/20 to-orange-800/20 rounded-lg">
                            <img src="{% static 'assets/calendar.svg' %}" alt="" class="w-5 h-5 filter brightness-0 invert">
                        </div>
                        <p class='text-gray-300'>{{ event.start_date|date:"F j, Y" }}</p>
                    </div>
    
                </div>
            </div>
            <div class='flex flex-row mt-4 justify-between items-center'>
                <a href='{% url "event_detail" event.id %}' class="bg-gradient-to-br from-green-600 to-green-900 hover:from-green-500 hover:to-green-800 px-6 py-2 text-white rounded-lg transition hover:scale-[1.03] cursor-pointer text-center shadow-lg font-medium">
                    View Event
                </a>
    
                <div class="bookmarkBtn cursor-pointer bookmark-container-event text-[#4a5565]" data-event-id = "{{ event.id }}">
                    <i class="text-2xl fa-solid fa-bookmark {% if event in user.info.saved_items.events.all %}text-[#6feb85]{% endif %}"></i>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="flex flex-col items-center justify-center p-4 mt-8">
            <div class="w-24 h-24 mb-6 bg-gradient-to-br from-green-600/20 to-green-900/20 rounded-full flex items-center justify-center">
            <img src="{% static 'assets/org_event.svg' %}" alt="" class="w-12 h-12 filter brightness-0 invert">
            </div>
            {% if organization.user == request.user %}
            <a href='{% url "org_event_form" organization.id %}' class="flex flex-row gap-x-2 items-center bg-[#1a1f2b] border border-[#2d323b] text-white mx-auto px-4 py-2 rounded-xl cursor-pointer mb-4 hover:bg-gradient-to-r hover:from-green-600 hover:to-green-900 transition-all duration-300">
            <img src = '{% static "assets/plus-edit.svg" %}' class='w-4 h-4'>
            <p>Add Event</p>
            </a>
            {% endif %}
            <p class='text-center text-lg text-gray-300 pb-20 -mt-2'>No Events Yet...</p>
        </div>
        {% endif %}
            
    </div>
</div>
{% endif %}